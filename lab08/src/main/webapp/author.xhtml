<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <h:head>
    	<title>Lab07 - Author Dashboard</title>
    </h:head>
    <h:body>
		<h3>Author Dashboard</h3>
		
		<h:form enctype="multipart/form-data">
			<p:outputLabel for="documentAdditionalAuthors" value="Additional authors: " />
			<p:inputText id="documentAdditionalAuthors" value="#{document.additionalAuthors}" />
		
	        <h:inputFile value="#{document.document}"/>
	
			<br />
	
	        <h:commandButton value="Submit" action="#{document.upload}" disabled="#{not author.submissionAvailable}" update="authorPublicationsTableContainer"/>
    	</h:form>
    	
    	<p:outputPanel>
			<h3>Publications</h3>
			<h:panelGroup id="authorPublicationsTableContainer">
		    	<p:dataTable id="authorPublicationsTable" var="item" value="#{document.documents}">
		    	
	    			<p:column headerText="Name">
	    				<h:outputText value="#{item.name}" />
	    			</p:column>
	
	    			<p:column headerText="Authors">
	    				<h:outputText value="#{item.authors}" />
	    			</p:column>
	    			
	    		</p:dataTable>
	   		</h:panelGroup>
   		</p:outputPanel>
    </h:body>
</html>